(()=>{"use strict";var t,e={99:(t,e,i)=>{var n={};i.r(n),i.d(n,{cubicBezier:()=>Y,easeOut:()=>$,easeOutCirc:()=>J,easeOutExpo:()=>Q,linear:()=>X,quadratic:()=>q,sineWaveHS:()=>Z,swing:()=>K});const o=i.p+"1f82ae5350be3039bfb3fe84ce4c4f89.png";var r=function(t,e){var i={width:0,height:0};return"width"in e?(i.width=e.width,i.height=t.height/t.width*e.width):"height"in e&&(i.height=e.height,i.width=t.width*e.height/t.height),i},s=function(){function t(t){this.fps=0,this.timeArray=[],this.context=t,this.containerOpacity=.4,this.textProps={position:{x:0,y:0},preText:"",postText:""},this.containerProps={startingPoint:{x:0,y:0},endPoint:{x:0,y:0}}}return t.prototype.text=function(t,e,i){this.textProps.position=t,this.textProps.preText=e,this.textProps.postText=i},t.prototype.container=function(t,e){this.containerProps={startingPoint:t,endPoint:e}},t.prototype.mark=function(){for(var t=performance.now();this.timeArray.length>0&&this.timeArray[0]<=t-1e3;)this.timeArray.shift();this.timeArray.push(t),this.fps=this.timeArray.length,this.drawContainer(),this.drawText(String(this.fps))},t.prototype.drawContainer=function(){var t=this.context,e=this.containerProps,i=e.startingPoint,n=e.endPoint;t.beginPath(),t.globalAlpha=this.containerOpacity,t.fillStyle="#1e1e20",t.fillRect(i.x,i.y,n.x,n.y),t.fill(),t.closePath()},t.prototype.drawText=function(t){var e=this.context,i=this.textProps,n=i.preText,o=i.postText,r=i.position,s="".concat(n).concat(t).concat(o);e.beginPath(),e.globalAlpha=1,e.font="30px monospace",e.fillStyle="#58d130",e.textAlign="left",e.fillText(s,r.x,r.y),e.closePath()},t}();const a=s;var c=function(t,e,i){return t+(e-t)*i},h=function(t,e,i){return Math.max(Math.min(i,e),t)},u=function(t,e){return Math.floor(Math.random()*(e-t))+t},p=function(t,e){var i=(new Date).getTime();return Math.sin(i/1e3*2*Math.PI/(1/t))*e},l=function(t,e,i){return e-(i-t)},d=function(t){Object.assign(document.createElement("a"),{target:"_blank",rel:"noopener noreferrer",href:t}).click()},f=.0062,g={width:288,height:512},y={width:34,height:24},m={width:100,height:300},v={width:24,height:36},w=function(t,e,i,n){return new(i||(i=Promise))((function(o,r){function s(t){try{c(n.next(t))}catch(t){r(t)}}function a(t){try{c(n.throw(t))}catch(t){r(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(s,a)}c((n=n.apply(t,e||[])).next())}))},b=function(t,e){var i,n,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(a){return function(c){return function(a){if(i)throw new TypeError("Generator is already executing.");for(;r&&(r=0,a[0]&&(s=0)),s;)try{if(i=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,n=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=e.call(t,s)}catch(t){a=[6,t],n=0}finally{i=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}},S=function(){function t(e,i){t.audioContext=new(AudioContext||webkitAudioContext),t.audioContext.addEventListener("statechange",(function(){t.isReady="running"===t.audioContext.state})),t.load(e,i)}return t.play=function(e,i){if(void 0===typeof t.Cached[e])throw new TypeError("Key ".concat(e," does not load or not exists."));if(void 0!==t.gainContext){if(t.isReady)try{var n=t.audioContext.createBufferSource();n.buffer=t.Cached[e],n.addEventListener("ended",(function(){return null==i?void 0:i()})),n.connect(t.gainContext),n.start()}catch(t){throw new Error("Failed to play audio: ".concat(e,". Error: ").concat(t))}}else console.warn("WebSfx.play cannot execute. AudioContext is not started or resumed")},t.volume=function(e){if(void 0!==t.gainContext)try{t.gainContext.gain.value=e}catch(t){}else console.warn("WebSfx.volume cannot set volume. AudioContext is not started or resumed")},t.init=function(){return w(this,void 0,void 0,(function(){var e;return b(this,(function(i){switch(i.label){case 0:return t.isReady&&void 0!==t.gainContext?[2]:[4,t.audioContext.resume()];case 1:return i.sent(),(e=t.audioContext.createGain()).connect(t.audioContext.destination),t.gainContext=e,[2]}}))}))},t.load=function(e,i,n){void 0===n&&(n=0);for(var o=[],r=Object.entries(e),s=n*t.concurrentDownload;s<Math.min(r.length,t.concurrentDownload);s++){if(!/\.(wav|ogg|mp3)$/i.test(r[s][1]))throw new TypeError("WebSfx.contructor accepts 'wav|ogg|mp3' type of files");o.push(t.load_requests(r[s][0],r[s][1]))}Promise.allSettled(o).then((function(o){o.forEach((function(e){"fulfilled"===e.status&&(t.Cached[e.value.name]=e.value.content,t.Cached[e.value.path]=t.Cached[e.value.name])})),r.length>(n+1)*t.concurrentDownload?t.load(e,i,n+1):i(t.Cached)}))},t.load_requests=function(e,i){var n=this;return new Promise((function(o,r){return w(n,void 0,void 0,(function(){var n,s,a;return b(this,(function(c){switch(c.label){case 0:return c.trys.push([0,4,,5]),[4,fetch(i,{method:"GET",mode:"no-cors"})];case 1:if(!(n=c.sent()).ok)throw new TypeError("Erro while fetching '".concat(i));return[4,n.arrayBuffer()];case 2:return s=c.sent(),[4,t.audioContext.decodeAudioData(s)];case 3:return a=c.sent(),o({content:a,path:i,name:e}),[3,5];case 4:return c.sent(),r(),[3,5];case 5:return[2]}}))}))}))},t.Cached={},t.concurrentDownload=5,t.isReady=!1,t}();const x=S;var _=function(){function t(){this.canvasSize={width:0,height:0},this.velocity={x:0,y:0},this.coordinate={x:0,y:0}}return t.prototype.resize=function(t){var e=t.width,i=t.height;this.canvasSize={width:e,height:i}},t}();const O=_;var z=function(){function t(t){this.sprite=t,this.Canvas=document.createElement("canvas"),this.ctx=this.Canvas.getContext("2d"),this.loading=[],this.then_called=!1}return t.prototype.then=function(e){return i=this,n=void 0,r=function(){return function(t,e){var i,n,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(a){return function(c){return function(a){if(i)throw new TypeError("Generator is already executing.");for(;r&&(r=0,a[0]&&(s=0)),s;)try{if(i=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,n=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=e.call(t,s)}catch(t){a=[6,t],n=0}finally{i=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}}(this,(function(i){switch(i.label){case 0:return this.then_called?[2]:(this.then_called=!0,[4,Promise.allSettled(this.loading).then((function(i){for(var n=0,o=0,r=i;o<r.length;o++){var s=r[o];"fulfilled"===s.status&&"value"in s?t.cached.set(s.value.name,s.value.img):++n}console.warn("Error count: ".concat(n)),e()}))]);case 1:return i.sent(),[2]}}))},new((o=void 0)||(o=Promise))((function(t,e){function s(t){try{c(r.next(t))}catch(t){e(t)}}function a(t){try{c(r.throw(t))}catch(t){e(t)}}function c(e){var i;e.done?t(e.value):(i=e.value,i instanceof o?i:new o((function(t){t(i)}))).then(s,a)}c((r=r.apply(i,n||[])).next())}));var i,n,o,r},t.asset=function(e){if(t.cached.has(e))return t.cached.get(e);throw new TypeError("Key: ".concat(e," does not defined on SpriteDestructor"))},t.prototype.cutOut=function(t,e,i,n,o){this.Canvas.width=n,this.Canvas.height=o,this.ctx.clearRect(0,0,n,o),this.ctx.imageSmoothingEnabled=!1,this.ctx.drawImage(this.sprite,e,i,n,o,0,0,n,o),this.feedImage(t)},t.prototype.feedImage=function(t){var e=this;this.loading.push(new Promise((function(i,n){var o=new Image;o.src=e.Canvas.toDataURL(),o.addEventListener("load",(function(){return i({name:t,img:o})})),o.addEventListener("error",(function(t){return n(t)}))})))},t.cached=new Map,t}();const I=z,k=function(){function t(){}return Object.defineProperty(t,"background",{get:function(){if(t.bgThemeList.length<1)throw new Error("No theme available");var e=t.bgThemeList[u(0,t.bgThemeList.length)];return t.isNight="night"===e,e},enumerable:!1,configurable:!0}),Object.defineProperty(t,"bird",{get:function(){if(t.birdColorList.length<1)throw new Error("No available bird color");return t.birdColorList[u(0,t.birdColorList.length)]},enumerable:!1,configurable:!0}),Object.defineProperty(t,"pipe",{get:function(){if(t.pipeColorList.length<1)throw new Error("No available pipe color");return t.isNight?t.pipeColorList[u(0,t.pipeColorList.length)]:"green"},enumerable:!1,configurable:!0}),t.birdColorList=[],t.bgThemeList=[],t.pipeColorList=[],t.isNight=!1,t}();var E,C=(E=function(t,e){return E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},E(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}E(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),A=function(t){function e(){var e=t.call(this)||this;return e.images=new Map,e.theme="day",e.velocity.x=2e-4,e.backgroundSize={width:0,height:0},e}return C(e,t),e.prototype.init=function(){this.images.set("day",I.asset("theme-day")),this.images.set("night",I.asset("theme-night")),Object.assign(k.bgThemeList,["day","night"]),this.use(k.background)},e.prototype.reset=function(){this.coordinate={x:0,y:0},this.resize(this.canvasSize),this.use(k.background)},e.prototype.use=function(t){this.theme=t},e.prototype.resize=function(e){var i=e.width,n=e.height;t.prototype.resize.call(this,{width:i,height:n}),this.backgroundSize=r({width:this.images.get(this.theme).width,height:this.images.get(this.theme).height},{height:n})},e.prototype.Update=function(){this.coordinate.x+=this.canvasSize.width*this.velocity.x,this.coordinate.y+=this.velocity.y},e.prototype.Display=function(t){for(var e=this.backgroundSize,i=e.width,n=e.height,o=this.coordinate,r=o.x,s=o.y,a=Math.ceil(this.canvasSize.width/i)+1,c=r%i,h=0;h<a;h++)t.drawImage(this.images.get(this.theme),h*(i-h)-c,s,i,n)},e}(O);const P=A;var j=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),B=function(t){function e(){var e=t.call(this)||this;return e.images=new Map,e.color="green",e.hollSize=0,e.pipePosition={top:{x:0,y:0},bottom:{x:0,y:0}},e.isPassed=!1,e.velocity.x=f,e.scaled={top:{width:0,height:0},bottom:{width:0,height:0}},e}return j(e,t),e.prototype.init=function(){this.images.set("green.top",I.asset("pipe-green-top")),this.images.set("green.bottom",I.asset("pipe-green-bottom")),this.images.set("red.top",I.asset("pipe-red-top")),this.images.set("red.bottom",I.asset("pipe-red-bottom")),Object.assign(k.pipeColorList,["red","green"])},e.prototype.setHollPosition=function(t){this.hollSize=.184*this.canvasSize.height,this.coordinate=t},e.prototype.resize=function(i){var n=i.width,o=i.height,s=this.coordinate.x/this.canvasSize.width*100,a=this.coordinate.y/this.canvasSize.height*100;t.prototype.resize.call(this,{width:n,height:o});var c=.18*this.canvasSize.width;e.pipeSize=r(m,{width:c}),this.hollSize=.184*this.canvasSize.height,this.coordinate.x=n*(s/100),this.coordinate.y=o*(a/100),this.velocity.x=n*f,this.scaled.top=r({width:this.images.get("".concat(this.color,".top")).width,height:this.images.get("".concat(this.color,".top")).height},{width:c}),this.scaled.bottom=r({width:this.images.get("".concat(this.color,".bottom")).width,height:this.images.get("".concat(this.color,".bottom")).height},{width:c})},e.prototype.isOut=function(){return this.coordinate.x+e.pipeSize.width<0},e.prototype.use=function(t){this.color=t},e.prototype.Update=function(){this.coordinate.x-=this.velocity.x},e.prototype.Display=function(t){var i=e.pipeSize.width/2,n=this.coordinate.x,o=this.coordinate.y,r=this.hollSize/2;t.drawImage(this.images.get("".concat(this.color,".top")),n-i,-(this.scaled.top.height-Math.abs(o-r)),this.scaled.top.width,this.scaled.top.height),t.drawImage(this.images.get("".concat(this.color,".bottom")),n-i,o+r,this.scaled.bottom.width,this.scaled.bottom.height)},e.pipeSize={width:0,height:0},e}(O);const D=B,L=i.p+"fb85655698a54f8cde03153d61436a8e.ogg",T=i.p+"53be63225a77062f0e0567615aaef471.ogg",R=i.p+"25b7658563967e60ca23fb51af9c084f.ogg",U=i.p+"09f7e99dce7a2d12b43909f45bcff6f2.ogg",M=i.p+"06f58df2486e5ade890cf491a58b4e35.ogg";var G=function(){function t(){}return t.init=function(){return t=this,e=void 0,n=function(){return function(t,e){var i,n,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(a){return function(c){return function(a){if(i)throw new TypeError("Generator is already executing.");for(;r&&(r=0,a[0]&&(s=0)),s;)try{if(i=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,n=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=e.call(t,s)}catch(t){a=[6,t],n=0}finally{i=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}}(this,(function(t){switch(t.label){case 0:return[4,x.init()];case 1:return t.sent(),[2]}}))},new((i=void 0)||(i=Promise))((function(o,r){function s(t){try{c(n.next(t))}catch(t){r(t)}}function a(t){try{c(n.throw(t))}catch(t){r(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(s,a)}c((n=n.apply(t,e||[])).next())}));var t,e,i,n},t.volume=function(e){t.currentVolume=e},t.die=function(){x.volume(t.currentVolume),x.play(L)},t.point=function(){x.volume(t.currentVolume),x.play(R)},t.hit=function(e){x.volume(t.currentVolume),x.play(T,e)},t.swoosh=function(){x.volume(t.currentVolume),x.play(U)},t.wing=function(){x.volume(t.currentVolume),x.play(M)},t.currentVolume=1,t}();const N=G;var H=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),F=function(t){function e(){var e=t.call(this)||this;return e.color="yellow",e.images=new Map,e.force=0,e.scaled={width:0,height:0},e.max_fall_velocity=0,e.max_lift_velocity=0,e.score=0,e.rotation=0,e.causeOfDeath=0,e.flags=1,e.lastCoord=0,e.wingState=1,e}return H(e,t),e.prototype.init=function(){this.images.set("yellow.0",I.asset("bird-yellow-up")),this.images.set("yellow.1",I.asset("bird-yellow-mid")),this.images.set("yellow.2",I.asset("bird-yellow-down")),this.images.set("blue.0",I.asset("bird-blue-up")),this.images.set("blue.1",I.asset("bird-blue-mid")),this.images.set("blue.2",I.asset("bird-blue-down")),this.images.set("red.0",I.asset("bird-red-up")),this.images.set("red.1",I.asset("bird-red-mid")),this.images.set("red.2",I.asset("bird-red-down")),Object.assign(k.birdColorList,["yellow","red","blue"]),this.use(k.bird)},e.prototype.variableReset=function(){this.score=0,this.rotation=0,this.causeOfDeath=0,this.flags=1,this.lastCoord=0,this.wingState=1},e.prototype.reset=function(){this.variableReset(),this.resize(this.canvasSize),this.use(k.bird)},Object.defineProperty(e.prototype,"alive",{get:function(){return!!(this.flags&e.FLAG_IS_ALIVE)},enumerable:!1,configurable:!0}),e.prototype.resize=function(i){var n=i.width,o=i.height;t.prototype.resize.call(this,{width:n,height:o}),this.coordinate.y=.5*e.platformHeight,this.coordinate.x=.3*n,this.force=-.009*o,this.scaled=r(y,{height:.024*o}),this.max_fall_velocity=.0141*this.canvasSize.height,this.max_lift_velocity=-.3*this.canvasSize.height},e.prototype.doWave=function(t,e,i){var n=t.x,o=t.y;this.flapWing(3),o+=p(e,i),this.coordinate={x:n,y:o}},e.prototype.flapWing=function(t){this.wingState=1+p(t,2)|0,this.rotation>70&&(this.wingState=1)},e.prototype.flap=function(){!(this.coordinate.y<0)&&this.flags&e.FLAG_IS_ALIVE&&(N.wing(),this.velocity.y=this.force,this.lastCoord=this.coordinate.y)},e.prototype.doesHitTheFloor=function(){return this.coordinate.y+this.rotatedDimension().height>Math.abs(this.canvasSize.height-e.platformHeight)},e.prototype.isDead=function(t){if(this.doesHitTheFloor())return this.flags&=~e.FLAG_IS_ALIVE,this.causeOfDeath=1,!(this.flags&e.FLAG_IS_ALIVE);for(var i=this.rotatedDimension(),n=i.width-i.height/2,o=0,r=t;o<r.length;o++){var s=r[o];try{var a=s.coordinate.x,c=s.coordinate.y,h=s.hollSize/2,u=D.pipeSize.width/2;if(a+u<this.coordinate.x-n)continue;if(Math.abs(a-u)<=this.coordinate.x+n&&(a<this.coordinate.x&&!s.isPassed&&(this.score++,N.point(),s.isPassed=!0),Math.abs(c-h)>=this.coordinate.y-i.height||c+h<=this.coordinate.y+i.height)){this.flags&=~e.FLAG_IS_ALIVE,this.causeOfDeath=2;break}break}catch(t){}}return!(this.flags&e.FLAG_IS_ALIVE)},e.prototype.rotatedDimension=function(){var t=this.rotation*Math.PI/180,e=this.scaled.width/2,i=this.scaled.height/2,n=Math.sin(t),o=Math.cos(t);return{width:2*Math.sqrt(Math.pow(e*o,2)+Math.pow(i*n,2)),height:2*Math.sqrt(Math.pow(e*n,2)+Math.pow(i*o,2))}},e.prototype.playDead=function(){this.flags&e.FLAG_DIED||(this.flags|=e.FLAG_DIED,2===this.causeOfDeath&&N.die())},e.prototype.use=function(t){this.color=t},e.prototype.handleRotation=function(){if(this.rotation+=this.coordinate.y<this.lastCoord?-7.2:6.5,this.rotation=h(-19,90,this.rotation),this.flags&e.FLAG_IS_ALIVE){var t=Math.abs(-19),i=4+(this.rotation+t)/(t+90)*3.2;this.flapWing(l(4,8.2,i))}else this.wingState=1},e.prototype.Update=function(){if(this.doesHitTheFloor()||this.flags&e.FLAG_DOES_LANDED)return this.flags|=e.FLAG_DOES_LANDED,this.coordinate.y=this.canvasSize.height-e.platformHeight-this.rotatedDimension().height,void this.handleRotation();this.coordinate.y+=h(this.max_lift_velocity,this.max_fall_velocity,this.velocity.y),this.velocity.y+=47e-5*this.canvasSize.height,this.handleRotation()},e.prototype.Display=function(t){var e="".concat(this.color,".").concat(this.wingState);t.save(),t.translate(this.coordinate.x,this.coordinate.y),t.rotate(this.rotation*Math.PI/180),t.drawImage(this.images.get(e),-this.scaled.width,-this.scaled.height,2*this.scaled.width,2*this.scaled.height),t.restore()},e.FLAG_IS_ALIVE=1,e.FLAG_DIED=2,e.FLAG_DOES_LANDED=4,e.platformHeight=0,e}(O);const W=F,V=function(){function t(){this.isComplete=!1,this.isRunning=!1,this.startTime=0}return Object.defineProperty(t.prototype,"time",{get:function(){return performance.now()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"timeDiff",{get:function(){return this.isRunning?this.time-this.startTime:0},enumerable:!1,configurable:!0}),t.prototype.stop=function(){this.isComplete=!0,this.isRunning=!1},t.prototype.start=function(){this.isRunning||(this.isRunning=!0,this.isComplete=!1,this.startTime=this.time)},t.prototype.reset=function(){this.isComplete=!1,this.isRunning=!1},t}();var K=function(t){return.5-Math.cos(t*Math.PI)/2},X=function(t){return t},q=function(t){return Math.pow(t,2)},Y=function(t){return t<=.5?2*Math.pow(t,3):1-2*Math.pow(t,3)},$=function(t){return.5-Math.cos(t*Math.PI)/2},Z=function(t){return Math.sin(2*t*Math.PI/2)},J=function(t){return Math.sqrt(1-Math.pow(t-1,2))},Q=function(t){return 1===t?1:1-Math.pow(2,-10*t)},tt=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();const et=function(t){function e(e){var i=t.call(this)||this;return i.options={duration:500,transition:"swing"},Object.assign(i.options,null!=e?e:{}),i}return tt(e,t),Object.defineProperty(e.prototype,"status",{get:function(){return{running:this.isRunning,complete:this.isComplete}},enumerable:!1,configurable:!0}),e.prototype.inUseTransition=function(t){return n[this.options.transition](t)},e}(V);var it=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),nt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return it(e,t),Object.defineProperty(e.prototype,"value",{get:function(){if(this.isComplete||!this.isRunning)return 0;var t=this.timeDiff/this.options.duration;return t>=1?(this.stop(),0):this.inUseTransition(l(0,1,t))},enumerable:!1,configurable:!0}),e}(et),ot=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),rt=(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}ot(e,t),Object.defineProperty(e.prototype,"value",{get:function(){if(this.isComplete&&!this.isRunning)return 1;var t=this.startTime,e=(this.time-t)/this.options.duration;return e>=2&&this.stop(),this.inUseTransition(1-e)},enumerable:!1,configurable:!0})}(et),function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}());const st=function(t){function e(e){var i=t.call(this)||this;return i.options={duration:500,from:{x:0,y:0},to:{x:0,y:0},transition:"cubicBezier"},Object.assign(i.options,e),i}return rt(e,t),Object.defineProperty(e.prototype,"status",{get:function(){return{running:this.isRunning,complete:this.isComplete}},enumerable:!1,configurable:!0}),e.prototype.inUseTransition=function(t){return n[this.options.transition](t)},e}(V);var at=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),ct=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return at(e,t),Object.defineProperty(e.prototype,"value",{get:function(){if(!this.isRunning)return this.isComplete?this.options.to:this.options.from;var t=this.options.from,e=this.options.to,i=this.timeDiff/this.options.duration;return i>=1?(this.stop(),this.options.to):{x:c(t.x,e.x,this.inUseTransition(i)),y:c(t.y,e.y,this.inUseTransition(i))}},enumerable:!1,configurable:!0}),e}(st),ht=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),ut=function(t){function e(e){var i=t.call(this)||this;return i.options={durations:{fading:400,bounce:1e3}},Object.assign(i.options,e),i}return ht(e,t),Object.defineProperty(e.prototype,"status",{get:function(){return{running:this.isRunning,complete:this.isComplete}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){if(!this.isRunning)return{opacity:this.isComplete?1:0,value:0};var t=this.options.durations,e=t.fading,i=t.bounce,n=this.timeDiff,o=K(n/e),r=-Z(n/i);return n>=Math.max(e,i)?(this.stop(),{opacity:1,value:0}):(n>=e&&(o=1),n>=i&&(r=0),{opacity:o,value:r})},enumerable:!1,configurable:!0}),e}(V),pt=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),lt=function(t){function e(e){var i=t.call(this)||this;return i.options={diff:100},Object.assign(i.options,e),i}return pt(e,t),Object.defineProperty(e.prototype,"status",{get:function(){return{running:this.isRunning,complete:this.isComplete}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return this.timeDiff>=this.options.diff&&(this.startTime=this.time,!0)},enumerable:!1,configurable:!0}),e}(V),dt=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),ft={x:.5,y:.515},gt={x:.5,y:.328},yt=function(t){function e(){var e=t.call(this)||this;return e.instructImage={size:.4,position:{x:0,y:0},image:void 0,scaled:{width:0,height:0}},e.getReadyImage={size:.65,position:{x:0,y:0},image:void 0,scaled:{width:0,height:0}},e.fadeOut=new nt({transition:"linear"}),e.opacity=1,e.isComplete=!1,e.doesTap=!1,e}return dt(e,t),e.prototype.init=function(){this.instructImage.image=I.asset("banner-instruction"),this.getReadyImage.image=I.asset("banner-game-ready")},e.prototype.reset=function(){this.opacity=1,this.isComplete=!1,this.doesTap=!1},e.prototype.tap=function(){this.isComplete||(this.fadeOut.start(),this.isComplete=!0,this.doesTap=!0)},e.prototype.resize=function(e){var i=e.width,n=e.height;t.prototype.resize.call(this,{width:i,height:n}),this.instructImage.scaled=r({width:this.instructImage.image.width,height:this.instructImage.image.height},{width:i*this.instructImage.size}),this.getReadyImage.scaled=r({width:this.getReadyImage.image.width,height:this.getReadyImage.image.height},{width:i*this.getReadyImage.size});var o=ft,s=gt;this.instructImage.position.x=i*o.x-this.instructImage.scaled.width/2,this.instructImage.position.y=n*o.y-this.instructImage.scaled.height/2,this.getReadyImage.position.x=i*s.x-this.getReadyImage.scaled.width/2,this.getReadyImage.position.y=n*s.y-this.getReadyImage.scaled.height/2},e.prototype.Update=function(){this.doesTap?this.opacity=this.fadeOut.value:this.opacity=1},e.prototype.Display=function(t){this.opacity<=0||(t.globalAlpha=this.opacity,t.drawImage(this.getReadyImage.image,this.getReadyImage.position.x,this.getReadyImage.position.y,this.getReadyImage.scaled.width,this.getReadyImage.scaled.height),t.drawImage(this.instructImage.image,this.instructImage.position.x,this.instructImage.position.y,this.instructImage.scaled.width,this.instructImage.scaled.height),t.globalAlpha=1)},e}(O);const mt=yt;var vt=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),wt=function(t){function e(){var e=t.call(this)||this;return e.currentValue=0,e.numberAsset={},e.numberDimension={width:0,height:0},e}return vt(e,t),e.prototype.init=function(){this.setInitAsset(0,"number-lg-0"),this.setInitAsset(1,"number-lg-1"),this.setInitAsset(2,"number-lg-2"),this.setInitAsset(3,"number-lg-3"),this.setInitAsset(4,"number-lg-4"),this.setInitAsset(5,"number-lg-5"),this.setInitAsset(6,"number-lg-6"),this.setInitAsset(7,"number-lg-7"),this.setInitAsset(8,"number-lg-8"),this.setInitAsset(9,"number-lg-9")},e.prototype.setInitAsset=function(t,e){this.numberAsset[String(t)]=I.asset(e)},e.prototype.setNum=function(t){this.currentValue=t},e.prototype.resize=function(e){var i=e.width,n=e.height;t.prototype.resize.call(this,{width:i,height:n}),this.numberDimension=r(v,{height:.065*n}),this.coordinate.x=.5*this.canvasSize.width,this.coordinate.y=.18*this.canvasSize.height},e.prototype.Update=function(){},e.prototype.Display=function(t){var e=this,i=String(this.currentValue).split(""),n=i.length*this.numberDimension.width,o=this.coordinate.x-n/2,r=this.coordinate.y-this.numberDimension.height/2;i.forEach((function(i){t.drawImage(e.numberAsset[i],o,r,e.numberDimension.width,e.numberDimension.height),o+=e.numberDimension.width}))},e}(O);const bt=wt;var St=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),xt=function(){return xt=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var o in e=arguments[i])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},xt.apply(this,arguments)},_t=function(t){function e(e){var i=e.style,n=e.strong,o=e.interval,r=e.easing,s=t.call(this)||this;return s.strong=n,s.style=i,s.events=[],s.fadeEvent=new nt({duration:o,transition:r}),s.value=0,s}return St(e,t),e.prototype.init=function(){},e.prototype.reset=function(){this.fadeEvent.reset();for(var t=0,e=this.events;t<e.length;t++)e[t].isCalled=!1},e.prototype.start=function(){this.fadeEvent.start()},e.prototype.setEvent=function(t,e){this.events.push({range:{min:t[0],max:t[1]},callback:e,isCalled:!1})},Object.defineProperty(e.prototype,"status",{get:function(){return xt(xt({},this.fadeEvent.status),{value:this.value})},enumerable:!1,configurable:!0}),e.prototype.Update=function(){if(!this.status.complete||this.status.running){this.value=this.fadeEvent.value;for(var t=0,e=this.events;t<e.length;t++){var i=e[t];i.isCalled||i.range.min<=this.value&&i.range.max>=this.value&&(i.callback(),i.isCalled=!0)}}else this.value=0},e.prototype.Display=function(t){t.globalAlpha=this.strong*this.value,t.fillStyle=this.style,t.fillRect(0,0,this.canvasSize.width,this.canvasSize.height),t.fill(),t.globalAlpha=1},e}(O);const Ot=_t;var zt=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),It=function(t){function e(){var e=t.call(this)||this;return e.images=new Map,e.timingEvent=new lt({diff:200}),e.scaled={width:0,height:0},e.dimension={width:0,height:0},e.target={x:0,y:0},e.status="stopped",e.sparkList=[],e.currentSparkIndex=0,e}return zt(e,t),e.prototype.init=function(){this.images.set("spark-sm",I.asset("spark-sm")),this.images.set("spark-md",I.asset("spark-md")),this.images.set("spark-lg",I.asset("spark-lg")),this.sparkList=["spark-sm","spark-md","spark-lg","spark-md","spark-sm"]},e.prototype.resize=function(e){var i=e.width,n=e.height;t.prototype.resize.call(this,{width:i,height:n}),this.scaled=r({width:this.images.get("spark-lg").width,height:this.images.get("spark-lg").height},{width:.03*i})},e.prototype.doSpark=function(){"running"!==this.status&&(this.status="running",this.timingEvent.start())},e.prototype.stop=function(){this.status="stopped",this.timingEvent.reset()},e.prototype.relocate=function(){this.target.x=u(this.coordinate.x,this.coordinate.x+this.dimension.width),this.target.y=u(this.coordinate.y,this.coordinate.y+this.dimension.height)},e.prototype.move=function(t,e){var i=t.x,n=t.y;this.coordinate={x:i,y:n},this.dimension=e},e.prototype.Update=function(){"stopped"!==this.status&&this.timingEvent.value&&(this.currentSparkIndex>this.sparkList.length-2?(this.currentSparkIndex=0,this.relocate()):this.currentSparkIndex++)},e.prototype.Display=function(t){"stopped"!==this.status&&t.drawImage(this.images.get(this.sparkList[this.currentSparkIndex]),Math.abs(this.target.x-this.scaled.width/2),Math.abs(this.target.y-this.scaled.height/2),this.scaled.width,this.scaled.height)},e}(O);const kt=It;var Et=function(){function t(){this.coordinate={x:0,y:0},this.calcCoord={x:0,y:0},this.dimension={width:0,height:0},this.canvasSize={width:0,height:0},this.additionalTranslate={x:0,y:0},this.touchStart={x:0,y:0},this.active=!1,this.img=void 0,this.hoverState=!1,this.initialWidth=0}return Object.defineProperty(t.prototype,"isHovered",{get:function(){return this.hoverState},enumerable:!1,configurable:!0}),t.prototype.resize=function(t){var e=t.width,i=t.height;void 0!==this.img&&(this.dimension=r({width:this.img.width,height:this.img.height},{width:e*this.initialWidth})),this.canvasSize={width:e,height:i}},t.prototype.Update=function(){this.calcCoord.x=this.canvasSize.width*this.coordinate.x+this.additionalTranslate.x,this.calcCoord.y=this.canvasSize.height*this.coordinate.y+this.additionalTranslate.y},t.prototype.mouseEvent=function(t,e){var i=e.x,n=e.y;"down"===t?this.onMouseDown({x:i,y:n}):"up"===t&&this.onMouseup({x:i,y:n})},t.prototype.reset=function(){this.move({x:0,y:0})},t.prototype.move=function(t){var e=t.x,i=t.y;this.additionalTranslate.x=this.canvasSize.width*e,this.additionalTranslate.y=this.canvasSize.height*i},t.prototype.isInRange=function(t){var e=t.x,i=t.y,n=this.calcCoord.x,o=this.calcCoord.y,r=this.dimension.width/2,s=this.dimension.height/2;return n-r<e&&n+r>e&&o-s<i&&o+s>i},t.prototype.onMouseDown=function(t){this.active&&(this.touchStart=t,this.isInRange(t)&&(this.hoverState=!0))},t.prototype.onMouseup=function(t){this.active&&(this.hoverState=!1,this.isInRange(t)&&this.isInRange(this.touchStart)&&this.click())},t}();const Ct=Et;var At=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Pt=function(t){function e(){var e=t.call(this)||this;return e.x=0,e.y=0,e.width=0,e.height=0,e.initialWidth=.24,e.coordinate.x=.5,e.coordinate.y=.45,e.active=!0,e}return At(e,t),e.prototype.init=function(){this.img=I.asset("btn-play")},e.prototype.setCallback=function(t){this.callback=t},e.prototype.click=function(){"function"==typeof this.callback&&this.callback()},e.prototype.Update=function(){this.reset(),this.isHovered&&this.move({x:0,y:.004}),t.prototype.Update.call(this)},e.prototype.Display=function(t){var e=this.calcCoord.x,i=this.calcCoord.y,n=this.dimension.width/2,o=this.dimension.height/2;t.drawImage(this.img,e-n,i-o,2*n,2*o)},e.prototype.resize=function(e){var i=e.width,n=e.height;t.prototype.resize.call(this,{width:i,height:n});var o=r({width:this.img.width,height:this.img.height},{width:this.canvasSize.width*this.initialWidth});this.width=o.width,this.height=o.height,this.x=this.canvasSize.width*this.coordinate.x-o.width/2,this.y=this.canvasSize.height*this.coordinate.y-o.height/2},e.prototype.mouseUp=function(t){t.x,t.y,this.active&&this.isHovered&&(console.log("Botón Play clickeado"),N.swoosh(),"function"==typeof this.callback?(console.log("Ejecutando callback del botón Play"),this.callback()):console.error("El callback del botón Play no está definido"))},e.prototype.onClick=function(t){this.callback=t},e}(Ct);const jt=Pt;var Bt=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();const Dt=function(t){function e(){var e=t.call(this)||this;return e.initialWidth=.1,e.assets=new Map,e.is_mute=!1,e.coordinate.x=.93,e.coordinate.y=.04,e.active=!0,e}return Bt(e,t),e.prototype.click=function(){N.swoosh(),this.is_mute=!this.is_mute,N.currentVolume=this.is_mute?0:1},e.prototype.setImg=function(){var t="".concat(this.is_mute?"mute":"unmute");this.img=this.assets.get(t)},e.prototype.init=function(){this.assets.set("mute",I.asset("btn-mute")),this.assets.set("unmute",I.asset("btn-speaker")),this.setImg()},e.prototype.Update=function(){this.reset(),this.isHovered&&this.move({x:0,y:.004}),this.setImg(),t.prototype.Update.call(this)},e.prototype.Display=function(t){var e=this.calcCoord.x,i=this.calcCoord.y,n=this.dimension.width/2,o=this.dimension.height/2;t.drawImage(this.img,e-n,i-o,2*n,2*o)},e}(Ct);var Lt=function(){function t(){var e;(null!==(e=t.sk)&&void 0!==e?e:[]).length<1&&(t.sk=["brrrrrrrrrrr"]),t.sk=t.utoa(t.sk[0]),t.isAvailable=!1;try{"localStorage"in window&&"object"==typeof window.localStorage&&(t.isAvailable=!0)}catch(e){t.isAvailable=!1}}return t.utoa=function(t){return btoa(encodeURIComponent(t))},t.atou=function(t){return decodeURIComponent(atob(t))},t.save=function(e,i){if(t.isAvailable){var n=typeof i;"string"!=typeof i&&(i=String(i)),window.localStorage.setItem("__".concat(t.sk,"_").concat(e,"__"),t.utoa(JSON.stringify({mode:n,value:i})))}else console.warn("Storage is not available")},t.get=function(e){if(t.isAvailable)try{var i=window.localStorage.getItem("__".concat(t.sk,"_").concat(e,"__"));if(!i)return;var n=JSON.parse(t.atou(i)),o=void 0;switch(n.type){case"string":o=String(n.value);break;case"number":o=Number(n.value);break;case"boolean":o="true"===n.value}return o}catch(t){return void console.error("Failed to fetch highscore")}else console.warn("Storage is not available")},t.sk=window.location.href.toString().match(/([a-zA-Z-]+\.github\.io\/[a-zA-Z\-.]+\/)/i),t}();const Tt=Lt;var Rt=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Ut=function(t){function e(){var e=t.call(this)||this;return e.flags=0,e.images=new Map,e.playButton=new jt,e.toggleSpeakerButton=new Dt,e.spark=new kt,e.currentHighScore=0,e.currentGeneratedNumber=0,e.currentScore=0,e.FlyInAnim=new ct({duration:500,from:{x:.5,y:1.5},to:{x:.5,y:.438},transition:"easeOutExpo"}),e.TimingEventAnim=new lt({diff:30}),e.BounceInAnim=new ut({durations:{bounce:300,fading:100}}),e}return Rt(e,t),e.prototype.init=function(){this.images.set("banner-gameover",I.asset("banner-game-over")),this.images.set("score-board",I.asset("score-board")),this.images.set("coin-10",I.asset("coin-dull-bronze")),this.images.set("coin-20",I.asset("coin-dull-metal")),this.images.set("coin-30",I.asset("coin-shine-gold")),this.images.set("coin-40",I.asset("coin-shine-silver")),this.images.set("new-icon",I.asset("toast-new"));for(var t=0;t<10;++t)this.images.set("number-".concat(t),I.asset("number-md-".concat(t)));this.playButton.init(),this.toggleSpeakerButton.init(),this.playButton.active=!1,this.toggleSpeakerButton.active=!1,this.spark.init();var e=Tt.get("highscore");this.currentHighScore="number"==typeof e?e:0},e.prototype.resize=function(e){var i=e.width,n=e.height;t.prototype.resize.call(this,{width:i,height:n}),this.playButton.resize(this.canvasSize),this.spark.resize(this.canvasSize),this.toggleSpeakerButton.resize(this.canvasSize)},e.prototype.Update=function(){this.playButton.Update(),this.spark.Update(),this.toggleSpeakerButton.Update()},e.prototype.Display=function(t){if(this.flags&e.FLAG_SHOW_BANNER){var i=r({width:this.images.get("banner-gameover").width,height:this.images.get("banner-gameover").height},{width:.7*this.canvasSize.width}),n=this.BounceInAnim.value,o=.225*this.canvasSize.height-i.height/2;t.globalAlpha=n.opacity,t.drawImage(this.images.get("banner-gameover"),.5*this.canvasSize.width-i.width/2,o+n.value*(.015*this.canvasSize.height),i.width,i.height),t.globalAlpha=1}if(this.flags&e.FLAG_SHOW_SCOREBOARD){var s=r({width:this.images.get("score-board").width,height:this.images.get("score-board").height},{width:.85*this.canvasSize.width});(n=Object.assign({},this.FlyInAnim.value)).x=this.canvasSize.width*n.x-s.width/2,n.y=this.canvasSize.height*n.y-s.height/2,t.drawImage(this.images.get("score-board"),n.x,n.y,s.width,s.height),this.TimingEventAnim.value&&this.currentScore>this.currentGeneratedNumber&&this.currentGeneratedNumber++,this.TimingEventAnim.status.complete&&!this.TimingEventAnim.status.running&&(this.currentGeneratedNumber>this.currentHighScore&&(this.setHighScore(this.currentGeneratedNumber),this.flags|=e.FLAG_NEW_HIGH_SCORE),this.addMedal(t,n,s),this.showButtons()),this.displayScore(t,n,s),this.displayBestScore(t,n,s,!!(this.flags&e.FLAG_NEW_HIGH_SCORE)),this.FlyInAnim.status.complete&&!this.FlyInAnim.status.running&&(this.TimingEventAnim.start(),this.currentGeneratedNumber===this.currentScore&&this.TimingEventAnim.stop())}this.flags&e.FLAG_SHOW_BUTTONS&&(this.playButton.Display(t),this.toggleSpeakerButton.Display(t))},e.prototype.showBanner=function(){this.flags|=e.FLAG_SHOW_BANNER,this.BounceInAnim.start()},e.prototype.showBoard=function(){this.flags|=e.FLAG_SHOW_SCOREBOARD,this.FlyInAnim.start(),this.spark.doSpark()},e.prototype.showButtons=function(){this.flags|=e.FLAG_SHOW_BUTTONS,this.playButton.active=!0,this.toggleSpeakerButton.active=!0},e.prototype.setHighScore=function(t){Tt.save("highscore",t),this.currentHighScore=t},e.prototype.setScore=function(t){this.currentScore=t},e.prototype.addMedal=function(t,e,i){if(!(this.currentScore<10)){var n;n=this.currentScore>=10&&this.currentScore<20?this.images.get("coin-10"):this.currentScore>=20&&this.currentScore<30?this.images.get("coin-20"):Math.floor(this.currentScore/10)%2==0?this.images.get("coin-40"):this.images.get("coin-30");var o=r({width:n.width,height:n.height},{width:.1878*i.width}),s={x:.36*(e.x+i.width/2),y:.9196*(e.y+i.height/2)};t.drawImage(n,s.x,s.y,o.width,o.height),this.spark.move(s,o),this.spark.Display(t)}},e.prototype.displayScore=function(t,e,i){var n=this,o=r({width:this.images.get("number-1").width,height:this.images.get("number-1").height},{width:.05*i.width});(e=Object.assign({},e)).x=1.565*(e.x+i.width/2),e.y=.864*(e.y+i.height/2),String(this.currentGeneratedNumber).split("").reverse().forEach((function(i,r){t.drawImage(n.images.get("number-".concat(i)),e.x-r*(o.width+5),e.y,o.width,o.height)}))},e.prototype.displayBestScore=function(t,i,n,o){var s=this,a=r({width:this.images.get("number-1").width,height:this.images.get("number-1").height},{width:.05*n.width});if((i=Object.assign({},i)).x=1.565*(i.x+n.width/2),i.y=1.074*(i.y+n.height/2),String(this.currentHighScore).split("").reverse().forEach((function(e,n){t.drawImage(s.images.get("number-".concat(e)),i.x-n*(a.width+5),i.y,a.width,a.height)})),this.flags&e.FLAG_NEW_HIGH_SCORE){var c=r({width:this.images.get("new-icon").width,height:this.images.get("new-icon").height},{width:.14*n.width});t.drawImage(this.images.get("new-icon"),.73*i.x,.922*i.y,c.width,c.height)}},e.prototype.hide=function(){this.flags=0,this.playButton.active=!1,this.toggleSpeakerButton.active=!1,this.currentGeneratedNumber=0,this.FlyInAnim.reset(),this.BounceInAnim.reset(),this.TimingEventAnim.reset(),this.spark.stop()},e.prototype.onRestart=function(t){this.playButton.onClick(t)},e.prototype.onShowRanks=function(t){},e.prototype.mouseDown=function(t){var e=t.x,i=t.y;this.playButton.mouseEvent("down",{x:e,y:i}),this.toggleSpeakerButton.mouseEvent("down",{x:e,y:i})},e.prototype.mouseUp=function(t){var e=t.x,i=t.y;this.playButton.mouseEvent("up",{x:e,y:i}),this.toggleSpeakerButton.mouseEvent("up",{x:e,y:i})},e.prototype.triggerPlayATKeyboardEvent=function(){this.flags&e.FLAG_SHOW_BUTTONS&&this.playButton.click()},e.FLAG_SHOW_BANNER=1,e.FLAG_SHOW_SCOREBOARD=2,e.FLAG_SHOW_BUTTONS=4,e.FLAG_NEW_HIGH_SCORE=8,e}(O);const Mt=Ut,Gt=i.p+"c175a4007b0311e6a62caa57d109613a.png",Nt=i.p+"dc45aa33193e9bb8f9e760279a26459b.png",Ht=i.p+"0e92b61396f20a47df12584ce54deedd.png";var Ft=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Wt=function(t){function e(){var e=t.call(this)||this;return e.iconSize=0,e.padding=120,e.spacing=30,e.iconsLoaded=!1,e.isClicked=!1,e.clickedIcon="",e.dexLogo=new Image,e.telegramLogo=new Image,e.xLogo=new Image,e.dexLogo.onload=function(){return e.checkIfAllImagesLoaded()},e.dexLogo.onerror=function(t){return console.error("Error cargando dex.png",t)},e.telegramLogo.onload=function(){return e.checkIfAllImagesLoaded()},e.telegramLogo.onerror=function(t){return console.error("Error cargando telegram.png",t)},e.xLogo.onload=function(){return e.checkIfAllImagesLoaded()},e.xLogo.onerror=function(t){return console.error("Error cargando x.png",t)},e}return Ft(e,t),e.prototype.checkIfAllImagesLoaded=function(){this.dexLogo.complete&&this.telegramLogo.complete&&this.xLogo.complete&&(this.iconsLoaded=!0)},e.prototype.init=function(){this.dexLogo.src=Gt,this.telegramLogo.src=Nt,this.xLogo.src=Ht},e.prototype.resize=function(e){var i=e.width,n=e.height;t.prototype.resize.call(this,{width:i,height:n}),this.iconSize=Math.min(.15*i,175)},e.prototype.Update=function(){},e.prototype.Display=function(t){if(this.iconsLoaded){var e=3*this.iconSize+2*this.spacing,i=(this.canvasSize.width-e)/2,n=this.canvasSize.height-this.padding-this.iconSize;try{t.drawImage(this.dexLogo,i,n,this.iconSize,this.iconSize),t.drawImage(this.telegramLogo,i+this.iconSize+this.spacing,n,this.iconSize,this.iconSize),t.drawImage(this.xLogo,i+2*this.iconSize+2*this.spacing,n,this.iconSize,this.iconSize)}catch(t){console.error("Error al dibujar iconos PNG:",t)}}},e.prototype.mouseDown=function(t){var e=t.x,i=t.y,n=this.canvasSize.height-this.padding-this.iconSize;if(!(i<n||i>n+this.iconSize)){var o=3*this.iconSize+2*this.spacing,r=(this.canvasSize.width-o)/2;e>=r&&e<=r+this.iconSize?(this.isClicked=!0,this.clickedIcon="dex"):e>=r+this.iconSize+this.spacing&&e<=r+2*this.iconSize+this.spacing?(this.isClicked=!0,this.clickedIcon="telegram"):e>=r+2*this.iconSize+2*this.spacing&&e<=r+3*this.iconSize+2*this.spacing&&(this.isClicked=!0,this.clickedIcon="x")}},e.prototype.mouseUp=function(t){var e=t.x,i=t.y;if(this.isClicked){var n=this.canvasSize.height-this.padding-this.iconSize;if(i<n||i>n+this.iconSize)this.isClicked=!1;else{var o=3*this.iconSize+2*this.spacing,r=(this.canvasSize.width-o)/2;"dex"===this.clickedIcon&&e>=r&&e<=r+this.iconSize?d("https://dexscreener.com/abstract/0x805b97271457ab095ae43da25a45289df66ea0c5"):"telegram"===this.clickedIcon&&e>=r+this.iconSize+this.spacing&&e<=r+2*this.iconSize+this.spacing?d("https://t.me/Nutztelegramportal"):"x"===this.clickedIcon&&e>=r+2*this.iconSize+2*this.spacing&&e<=r+3*this.iconSize+2*this.spacing&&d("https://x.com/NutzonAbstract"),this.isClicked=!1,this.clickedIcon=""}}},e}(O);const Vt=Wt;var Kt=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Xt=function(t){function e(e){var i=t.call(this)||this;return i.state="waiting",i.bird=new W,i.count=new bt,i.game=e,i.pipeGenerator=i.game.pipeGenerator,i.bannerInstruction=new mt,i.gameState="none",i.scoreBoard=new Mt,i.transition=new Ot({interval:500,strong:1,style:"black",easing:"sineWaveHS"}),i.flashScreen=new Ot({style:"white",interval:180,strong:.7,easing:"linear"}),i.hideBird=!1,i.showScoreBoard=!1,i.socialIcons=new Vt,i.transition.setEvent([.99,1],i.reset.bind(i)),i}return Kt(e,t),e.prototype.init=function(){this.bird.init(),this.count.init(),this.bannerInstruction.init(),this.scoreBoard.init(),this.setButtonEvent(),this.flashScreen.init(),this.transition.init(),this.socialIcons.init()},e.prototype.reset=function(){this.gameState="none",this.state="waiting",this.game.background.reset(),this.game.platform.reset(),this.pipeGenerator.reset(),this.bannerInstruction.reset(),this.game.bgPause=!1,this.hideBird=!1,this.showScoreBoard=!1,this.scoreBoard.hide(),this.bird.reset()},e.prototype.resize=function(e){var i=e.width,n=e.height;t.prototype.resize.call(this,{width:i,height:n}),this.bird.resize(this.canvasSize),this.count.resize(this.canvasSize),this.bannerInstruction.resize(this.canvasSize),this.scoreBoard.resize(this.canvasSize),this.flashScreen.resize(this.canvasSize),this.transition.resize(this.canvasSize),this.socialIcons.resize({width:i,height:n})},e.prototype.Update=function(){var t=this;if(this.flashScreen.Update(),this.transition.Update(),this.scoreBoard.Update(),!this.bird.alive)return this.game.bgPause=!0,void this.bird.Update();"waiting"!==this.state?(this.bannerInstruction.Update(),this.pipeGenerator.Update(),this.bird.Update(),this.bird.isDead(this.pipeGenerator.pipes)&&(this.flashScreen.reset(),this.flashScreen.start(),this.gameState="died",window.setTimeout((function(){t.scoreBoard.setScore(t.bird.score),t.showScoreBoard=!0,window.setTimeout((function(){t.scoreBoard.showBoard(),N.swoosh()}),700),t.scoreBoard.showBanner(),N.swoosh()}),500),N.hit((function(){t.bird.playDead()})))):this.bird.doWave({x:this.bird.coordinate.x,y:.48*this.canvasSize.height},1,6)},e.prototype.Display=function(t){"playing"!==this.state&&"waiting"!==this.state||(this.bannerInstruction.Display(t),"died"===this.gameState&&this.showScoreBoard||(this.count.setNum(this.bird.score),this.count.Display(t)),this.hideBird||this.bird.Display(t),this.scoreBoard.Display(t)),this.flashScreen.Display(t),this.transition.Display(t),this.socialIcons.Display(t)},e.prototype.setButtonEvent=function(){var t=this;this.scoreBoard.onRestart((function(){t.transition.status.running||(t.transition.reset(),t.transition.start())}))},e.prototype.click=function(t){t.x,t.y,"died"!==this.gameState&&(this.state="playing",this.gameState="playing",this.bannerInstruction.tap(),this.bird.flap())},e.prototype.mouseDown=function(t){var e=t.x,i=t.y;if("died"===this.gameState)return this.scoreBoard.mouseDown({x:e,y:i}),void this.socialIcons.mouseDown({x:e,y:i});this.state="playing",this.gameState="playing",this.bannerInstruction.tap(),this.bird.flap(),this.socialIcons.mouseDown({x:e,y:i})},e.prototype.mouseUp=function(t){var e=t.x,i=t.y;"died"===this.gameState&&(this.scoreBoard.mouseUp({x:e,y:i}),this.socialIcons.mouseUp({x:e,y:i}))},e.prototype.startAtKeyBoardEvent=function(){"died"===this.gameState&&this.scoreBoard.triggerPlayATKeyboardEvent()},e}(O);const qt=Xt;var Yt=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),$t=function(t){function e(){var e=t.call(this)||this;return e.bird=new W,e.playButton=new jt,e.toggleSpeakerButton=new Dt,e.socialIcons=new Vt,e.flappyBirdBanner=void 0,e.copyright=void 0,e}return Yt(e,t),e.prototype.init=function(){this.bird.init(),this.playButton.init(),this.toggleSpeakerButton.init(),this.socialIcons.init(),this.flappyBirdBanner=I.asset("banner-flappybird"),this.copyright=I.asset("copyright"),this.playButton.x=this.canvasSize.width/2-this.playButton.width/2},e.prototype.resize=function(e){var i=e.width,n=e.height;t.prototype.resize.call(this,{width:i,height:n}),this.bird.resize({width:i,height:n}),this.playButton.resize({width:i,height:n}),this.toggleSpeakerButton.resize({width:i,height:n}),this.socialIcons.resize({width:i,height:n})},e.prototype.Update=function(){this.bird.doWave({x:.5*this.canvasSize.width,y:.4*this.canvasSize.height},1.4,9),this.playButton.Update(),this.toggleSpeakerButton.Update()},e.prototype.Display=function(t){this.toggleSpeakerButton.Display(t),this.playButton.Display(t),this.bird.Display(t);var e=r({width:this.flappyBirdBanner.width,height:this.flappyBirdBanner.height},{width:.67*this.canvasSize.width});t.drawImage(this.flappyBirdBanner,.5*this.canvasSize.width-e.width/2,.28*this.canvasSize.height-e.height/2,e.width,e.height);var i=r({width:this.copyright.width,height:this.copyright.height},{width:.44*this.canvasSize.width});t.drawImage(this.copyright,.5*this.canvasSize.width-i.width/2,.806*this.canvasSize.height-i.height/2,i.width,i.height),this.socialIcons.Display(t)},e.prototype.mouseDown=function(t){var e=t.x,i=t.y;this.toggleSpeakerButton.mouseEvent("down",{x:e,y:i}),this.playButton.mouseEvent("down",{x:e,y:i}),this.socialIcons.mouseDown({x:e,y:i})},e.prototype.mouseUp=function(t){var e=t.x,i=t.y;this.toggleSpeakerButton.mouseEvent("up",{x:e,y:i}),this.playButton.mouseEvent("up",{x:e,y:i}),this.socialIcons.mouseUp({x:e,y:i})},e.prototype.startAtKeyBoardEvent=function(){this.playButton.click()},e}(O);const Zt=$t;var Jt=function(){function t(){this.range={max:0,min:0},this.width=0,this.pipes=[],this.distance=0,this.initialXPos=0,this.canvasSize={width:0,height:0},this.pipeColor="green"}return t.prototype.reset=function(){this.pipes.splice(0,this.pipes.length),this.resize({max:this.range.max,width:this.canvasSize.width,height:this.canvasSize.height}),this.pipeColor=k.pipe},t.prototype.resize=function(t){var e=t.max,i=t.width,n=t.height;this.range={max:e,min:.194*n},this.distance=.392*i,this.width=i,this.canvasSize={width:i,height:n};for(var o=0,r=this.pipes;o<r.length;o++)r[o].resize(this.canvasSize)},t.prototype.needPipe=function(){var t=this.pipes.length;return 0===t?(this.initialXPos=2*(this.width+D.pipeSize.width),!0):this.distance<=this.width-this.pipes[t-1].coordinate.x&&(this.initialXPos=this.width+D.pipeSize.width,!0)},t.prototype.generate=function(){return{position:{x:this.initialXPos,y:u(this.range.min,this.range.max-this.range.min)}}},t.prototype.Update=function(){if(this.needPipe()){var t=new D;t.init(),t.use(this.pipeColor),t.resize(this.canvasSize),t.setHollPosition(this.generate().position),this.pipes.push(t)}for(var e=0;e<this.pipes.length;e++)this.pipes[e].Update(),this.pipes[e].isOut()&&(this.pipes.splice(e,1),e--)},t}();const Qt=Jt;var te=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),ee=function(t){function e(){var e=t.call(this)||this;return e.velocity.x=f,e.platformSize={width:0,height:0},e.img=void 0,e}return te(e,t),e.prototype.init=function(){this.img=I.asset("platform")},e.prototype.reset=function(){this.coordinate={x:0,y:0},this.resize(this.canvasSize)},e.prototype.resize=function(e){var i=e.width,n=e.height;t.prototype.resize.call(this,{width:i,height:n}),this.platformSize=r({width:this.img.width,height:this.img.height},{height:n/4}),this.coordinate.y=n-this.platformSize.height},e.prototype.Update=function(){this.coordinate.x+=this.canvasSize.width*this.velocity.x,this.coordinate.y+=this.velocity.y},e.prototype.Display=function(t){for(var e=this.platformSize,i=e.width,n=e.height,o=this.coordinate,r=o.x,s=o.y,a=Math.ceil(this.canvasSize.width/i)+1,c=r%i,h=0;h<a;h++)t.drawImage(this.img,h*(i-h)-c,s,i,n)},e}(O);const ie=ee,ne=function(){function t(){this.objects=new Map,this.currentState=""}return t.prototype.setState=function(t){this.currentState=t},t.prototype.register=function(t,e){this.objects.set(t,e)},t.prototype.Update=function(){var t=this.objects.get(this.currentState);if(void 0===t)throw new TypeError("State ".concat(this.currentState," does not exists"));t.Update()},t.prototype.Display=function(t){var e=this.objects.get(this.currentState);if(void 0===e)throw new TypeError("State ".concat(this.currentState," does not exists"));e.Display(t)},t}();var oe=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),re=function(t){function e(e){var i=t.call(this)||this;return i.screenChanger=new ne,i.background=new P,i.canvas=e,i.context=i.canvas.getContext("2d",{desynchronized:!0,alpha:!1}),i.platform=new ie,i.pipeGenerator=new Qt,i.screenIntro=new Zt,i.gamePlay=new qt(i),i.state="intro",i.bgPause=!1,i.transition=new Ot({interval:700,strong:1,style:"black",easing:"sineWaveHS"}),i.transition.setEvent([.98,1],(function(){i.state="game"})),i}return oe(e,t),e.prototype.init=function(){new Tt,this.background.init(),this.platform.init(),this.transition.init(),N.init(),N.volume(1),this.screenIntro.init(),this.gamePlay.init(),this.setEvent(),this.screenIntro.playButton.active=!0,this.screenChanger.register("intro",this.screenIntro),this.screenChanger.register("game",this.gamePlay)},e.prototype.reset=function(){this.background.reset(),this.platform.reset(),this.Resize(this.canvasSize)},e.prototype.Resize=function(e){var i=e.width,n=e.height;t.prototype.resize.call(this,{width:i,height:n}),this.background.resize(this.canvasSize),this.platform.resize(this.canvasSize),this.transition.resize(this.canvasSize),W.platformHeight=this.platform.platformSize.height,this.pipeGenerator.resize({max:n-this.platform.platformSize.height,width:i,height:n}),this.screenIntro.resize(this.canvasSize),this.gamePlay.resize(this.canvasSize),this.canvas.width=i,this.canvas.height=n},e.prototype.Update=function(){this.transition.Update(),this.screenChanger.setState(this.state),this.bgPause||(this.background.Update(),this.platform.Update()),this.screenChanger.Update()},e.prototype.Display=function(){this.context.clearRect(0,0,this.canvas.width,this.canvas.height),this.context.imageSmoothingEnabled=!1,this.context.imageSmoothingQuality="high",this.screenChanger.setState(this.state),this.background.Display(this.context);for(var t=0,e=this.pipeGenerator.pipes;t<e.length;t++)e[t].Display(this.context);this.platform.Display(this.context),this.screenChanger.Display(this.context),this.transition.Display(this.context)},e.prototype.setEvent=function(){var t=this;this.screenIntro.playButton.onClick((function(){"intro"===t.state&&(t.screenIntro.playButton.active=!1,t.screenIntro.toggleSpeakerButton.active=!1,t.transition.reset(),t.transition.start())}))},e.prototype.onClick=function(t){var e=t.x,i=t.y;"game"===this.state&&this.gamePlay.click({x:e,y:i})},e.prototype.mouseDown=function(t){var e=t.x,i=t.y;this.screenIntro.mouseDown({x:e,y:i}),this.gamePlay.mouseDown({x:e,y:i})},e.prototype.mouseUp=function(t){var e=t.x,i=t.y;this.screenIntro.mouseUp({x:e,y:i}),this.gamePlay.mouseUp({x:e,y:i})},e.prototype.startAtKeyBoardEvent=function(){"intro"===this.state?this.screenIntro.startAtKeyBoardEvent():this.gamePlay.startAtKeyBoardEvent()},Object.defineProperty(e.prototype,"currentState",{get:function(){return this.state},enumerable:!1,configurable:!0}),e}(O);const se=re;var ae=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),ce=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ae(e,t),e}(function(){function t(t){this.__source=t,this.ready=0}return t.prototype.eventTracking=function(t,e){this.ready--,this.ready<1&&t({source:this.source,object:e})},Object.defineProperty(t.prototype,"source",{get:function(){return this.__source},enumerable:!1,configurable:!0}),t}()),he=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),ue=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return he(e,t),e.prototype.test=function(){return e.regexp.test(this.source)},e.prototype.load=function(){var t=this;return this.ready=2,new Promise((function(e,i){var n=new Audio;n.addEventListener("load",(function(){t.eventTracking(e,n)})),n.addEventListener("canplay",(function(){t.eventTracking(e,n)})),n.addEventListener("canplaythrough",(function(){t.eventTracking(e,n)})),n.addEventListener("error",i),n.src=t.source}))},e.regexp=/\.(mp3|wav|ogg|aac)/i,e}(ce);const pe=ue;var le=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();const de=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return le(e,t),e.prototype.test=function(){return e.regexp.test(this.source)},e.prototype.load=function(){var t=this;return this.ready=1,new Promise((function(e,i){var n=new Image;n.addEventListener("load",(function(){t.eventTracking(e,n)})),n.addEventListener("error",i),n.src=t.source}))},e.regexp=/\.(jpe?g|png|svg|bmp|webp|webm|gif)/i,e}(ce);var fe=function(){function t(e){var i=this,n=e.map((function(e){for(var i=0,n=t.loaders;i<n.length;i++){var o=new(0,n[i])(e);if(o.test())return o.load()}throw new Error("No available driver for file: "+e)}));Promise.all(n).then((function(e){var n;e.forEach((function(e){t.assets.set(e.source,e.object)})),null===(n=i.callback)||void 0===n||n.call(i)})).catch((function(t){console.error(t)}))}return t.prototype.then=function(t){this.callback=t},t.get=function(e){return t.assets.get(e)},t.assets=new Map,t.loaders=[pe,de],t}();const ge=fe,ye=i.p+"716a0b1804ebffe7525dbce83e89b9b9.png";var me=i(496);"serviceWorker"in navigator&&window.addEventListener("load",(function(){navigator.serviceWorker.register("./service-worker.js").then((function(){console.log("SW registered")})).catch((function(){console.log("SW registration failed")}))}));var ve=document.createElement("canvas"),we=document.createElement("img"),be=document.querySelector("#main-canvas"),Se=be.getContext("2d"),xe=document.querySelector("#loading-modal"),_e=new se(ve),Oe=(new a(_e.context),!1);we.src=o;var ze=function(){var t=r(g,{height:2*window.innerHeight-50});be.style.maxWidth=String(t.width/2)+"px",be.style.maxHeight=String(t.height/2)+"px",be.height=t.height,be.width=t.width,ve.height=t.height,ve.width=t.width,console.log("Canvas Size: ".concat(t.width,"x").concat(t.height)),_e.Resize(t)},Ie=function(){(function(t,e){var i=!1,n=!1,o=!0,r={down:!1,position:{x:0,y:0}},s=function(t){var i=t.x,n=t.y,o=e.getBoundingClientRect(),r=o.left,s=o.top,a=o.width,c=o.height;return{x:(i-r)/a*e.width,y:(n-s)/c*e.height}},a=function(t,e){var i=t.x,n=t.y;e.preventDefault(),r.position=s({x:i,y:n})},c=function(e,a,c){var h=e.x,u=e.y;o||(o=!0,n=!1,x.init(),a.preventDefault(),c||(r.position=s({x:h,y:u})),t.mouseUp(r.position),r.down=!1,i=!1)},h=function(e,a){var c=e.x,h=e.y;n||(o=!1,n=!0,x.init(),a.preventDefault(),r.position=s({x:c,y:h}),t.mouseDown(r.position),r.down=!0,i||(t.onClick(r.position),i=!0))};e.addEventListener("mousedown",(function(t){h({x:t.clientX,y:t.clientY},t)})),e.addEventListener("mouseup",(function(t){c({x:t.clientX,y:t.clientY},t,!1)})),e.addEventListener("mousemove",(function(t){a({x:t.clientX,y:t.clientY},t)})),e.addEventListener("touchstart",(function(t){h({x:t.touches[0].clientX,y:t.touches[0].clientY},t)})),e.addEventListener("touchend",(function(t){t.touches.length<1?c(r.position,t,!0):c({x:t.touches[0].clientX,y:t.touches[0].clientY},t,!1)})),e.addEventListener("touchmove",(function(t){a({x:t.touches[0].clientX,y:t.touches[0].clientY},t)})),document.addEventListener("keydown",(function(i){var n=i.key,o=i.keyCode,r=i.code;" "!==n&&32!==o&&"Space"!==r&&"Enter"!==n&&13!==o&&"NumpadEnter"!==r&&"Enter"!==r||(t.startAtKeyBoardEvent(),h({x:e.width/2,y:e.height/2},i))})),document.addEventListener("keyup",(function(t){var i=t.key,n=t.keyCode,o=t.code;" "!==i&&32!==n&&"Space"!==o&&"Enter"!==i&&13!==n&&"NumpadEnter"!==o&&"Enter"!==o||c({x:e.width/2,y:e.height/2},t,!1)}))})(_e,be),xe.style.display="none",document.body.style.backgroundColor="rgba(28, 28, 30, 1)"},ke=(0,me.Ay)((0,me.Zd)((function(){Se.drawImage(ve,0,0),_e.Update(),_e.Display()}),60)),Ee=ke[0],Ce=ke[1];window.addEventListener("DOMContentLoaded",(function(){xe.insertBefore(we,xe.childNodes[0]),function(t){var e=!1;new ge([ye]).then((function(){var i=new I(ge.get(ye));i.cutOut("theme-day",0,0,288,512),i.cutOut("theme-night",292,0,288,512),i.cutOut("platform",584,0,236,112),i.cutOut("pipe-red-top",0,646,52,320),i.cutOut("pipe-red-bottom",56,646,52,320),i.cutOut("pipe-green-bottom",168,646,52,320),i.cutOut("pipe-green-top",112,646,52,320),i.cutOut("score-board",4,516,232,123),i.cutOut("coin-dull-metal",224,906,44,44),i.cutOut("coin-dull-bronze",224,954,44,44),i.cutOut("coin-shine-silver",242,516,44,44),i.cutOut("coin-shine-gold",242,564,44,44),i.cutOut("number-sm-0",276,646,12,14),i.cutOut("number-sm-1",282,664,6,14),i.cutOut("number-sm-2",276,698,12,14),i.cutOut("number-sm-3",276,716,12,14),i.cutOut("number-sm-4",276,750,12,14),i.cutOut("number-sm-5",276,768,12,14),i.cutOut("number-sm-6",276,802,12,14),i.cutOut("number-sm-7",276,820,12,14),i.cutOut("number.sm-8",276,854,12,14),i.cutOut("number-sm-9",276,872,12,14),i.cutOut("number-md-0",274,612,14,20),i.cutOut("number-md-1",278,954,10,20),i.cutOut("number-md-2",274,978,14,20),i.cutOut("number-md-3",262,1002,14,20),i.cutOut("number-md-4",1004,0,14,20),i.cutOut("number-md-5",1004,24,14,20),i.cutOut("number-md-6",1010,52,14,20),i.cutOut("number-md-7",1010,84,14,20),i.cutOut("number-md-8",1010,112,14,20),i.cutOut("number-md-9",1010,140,14,20),i.cutOut("number-lg-0",992,120,24,36),i.cutOut("number-lg-1",272,910,16,36),i.cutOut("number-lg-2",584,320,24,36),i.cutOut("number-lg-3",612,320,24,36),i.cutOut("number-lg-4",640,320,24,36),i.cutOut("number-lg-5",668,320,24,36),i.cutOut("number-lg-6",584,368,24,36),i.cutOut("number-lg-7",612,368,24,36),i.cutOut("number-lg-8",640,368,24,36),i.cutOut("number-lg-9",668,368,24,36),i.cutOut("toast-new",224,1002,32,14),i.cutOut("btn-pause",242,612,26,28),i.cutOut("btn-play",708,236,104,58),i.cutOut("btn-ranking",826,236,104,58),i.cutOut("btn-share",584,284,80,28),i.cutOut("btn-score",672,284,80,28),i.cutOut("btn-start",584,234,80,28),i.cutOut("btn-menu",924,52,80,28),i.cutOut("btn-ok",924,84,80,28),i.cutOut("bird-yellow-up",6,982,34,24),i.cutOut("bird-yellow-mid",62,982,34,24),i.cutOut("bird-yellow-down",118,982,34,24),i.cutOut("bird-blue-up",174,982,34,24),i.cutOut("bird-blue-mid",230,658,34,24),i.cutOut("bird-blue-down",230,710,34,24),i.cutOut("bird-red-up",230,762,34,24),i.cutOut("bird-red-mid",230,814,34,24),i.cutOut("bird-red-down",230,866,34,24),i.cutOut("spark-sm",276,682,10,10),i.cutOut("spark-md",276,734,10,10),i.cutOut("spark-lg",276,786,10,10),i.cutOut("banner-game-ready",586,118,192,58),i.cutOut("banner-game-over",786,118,200,52),i.cutOut("banner-flappybird",701,558,311,81),i.cutOut("banner-instruction",584,182,114,98),i.cutOut("copyright",886,184,122,10),i.cutOut("icon-plus",992,168,10,10),i.cutOut("btn-mute",816,306,90,66),i.cutOut("btn-speaker",712,306,90,66);var n=function(){e&&t(),e=!0};i.then(n),new x({hit:T,wing:M,swoosh:U,die:L,point:R},n)}))}((function(){Oe=!0,_e.init(),ze(),Ee()||Ce(),window.setTimeout(Ie,1e3)}))})),window.addEventListener("resize",(function(){Oe&&ze()}))}},i={};function n(t){var o=i[t];if(void 0!==o)return o.exports;var r=i[t]={exports:{}};return e[t](r,r.exports,n),r.exports}n.m=e,t=[],n.O=(e,i,o,r)=>{if(!i){var s=1/0;for(u=0;u<t.length;u++){for(var[i,o,r]=t[u],a=!0,c=0;c<i.length;c++)(!1&r||s>=r)&&Object.keys(n.O).every((t=>n.O[t](i[c])))?i.splice(c--,1):(a=!1,r<s&&(s=r));if(a){t.splice(u--,1);var h=o();void 0!==h&&(e=h)}}return e}r=r||0;for(var u=t.length;u>0&&t[u-1][2]>r;u--)t[u]=t[u-1];t[u]=[i,o,r]},n.d=(t,e)=>{for(var i in e)n.o(e,i)&&!n.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{var t;n.g.importScripts&&(t=n.g.location+"");var e=n.g.document;if(!t&&e&&(e.currentScript&&"SCRIPT"===e.currentScript.tagName.toUpperCase()&&(t=e.currentScript.src),!t)){var i=e.getElementsByTagName("script");if(i.length)for(var o=i.length-1;o>-1&&(!t||!/^http(s?):/.test(t));)t=i[o--].src}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=t})(),(()=>{var t={792:0};n.O.j=e=>0===t[e];var e=(e,i)=>{var o,r,[s,a,c]=i,h=0;if(s.some((e=>0!==t[e]))){for(o in a)n.o(a,o)&&(n.m[o]=a[o]);if(c)var u=c(n)}for(e&&e(i);h<s.length;h++)r=s[h],n.o(t,r)&&t[r]&&t[r][0](),t[r]=0;return n.O(u)},i=self.webpackChunkflappynutz=self.webpackChunkflappynutz||[];i.forEach(e.bind(null,0)),i.push=e.bind(null,i.push.bind(i))})();var o=n.O(void 0,[496],(()=>n(99)));o=n.O(o)})();